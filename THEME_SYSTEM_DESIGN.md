# 連続学習日数→レベルアップ→背景テーマアンロックシステム設計

## 🎯 システム概要

1. **連続学習日数の追跡**: 毎日学習すると連続日数が増える
2. **レベルアップシステム**: 連続日数に応じてレベルが上がる
3. **背景テーマのアンロック**: 一定レベルに達すると背景テーマが選択可能になる
4. **テーマ選択機能**: アンロックされたテーマから選択できる

## 📊 レベル設計案

| レベル | 必要な連続日数 | アンロック内容 |
|--------|---------------|---------------|
| Lv.1 | 1日 | デフォルトテーマ（既存） |
| Lv.2 | 3日 | 春テーマ 🌸 |
| Lv.3 | 7日 | 夏テーマ ☀️ |
| Lv.4 | 14日 | 秋テーマ 🍂 |
| Lv.5 | 30日 | 冬テーマ ❄️ |
| Lv.6 | 60日 | 夜テーマ 🌙 |
| Lv.7 | 100日 | 星空テーマ ⭐ |

## 🎨 背景テーマデザイン案

### 1. デフォルトテーマ（既存）
- `bg-gradient-to-br from-yellow-50 via-orange-50 to-pink-50`
- 既存の装飾要素

### 2. 春テーマ 🌸
- `bg-gradient-to-br from-pink-50 via-rose-50 to-purple-50`
- 桜色の装飾要素

### 3. 夏テーマ ☀️
- `bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50`
- 青空・海の装飾要素

### 4. 秋テーマ 🍂
- `bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50`
- 紅葉色の装飾要素

### 5. 冬テーマ ❄️
- `bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50`
- 雪・氷の装飾要素

### 6. 夜テーマ 🌙
- `bg-gradient-to-br from-indigo-900 via-purple-900 to-slate-900`
- 月・星の装飾要素（暗め）

### 7. 星空テーマ ⭐
- `bg-gradient-to-br from-indigo-950 via-purple-950 to-black`
- 星の装飾要素（さらに暗め）

## 💾 データ構造

### localStorage に保存するデータ

```javascript
{
  streakDays: 5,           // 連続学習日数
  lastStudyDate: "2025-01-15",  // 最後に学習した日
  level: 3,                // 現在のレベル
  unlockedThemes: ["default", "spring", "summer"],  // アンロック済みテーマ
  currentTheme: "default"  // 現在選択中のテーマ
}
```

## 🔧 実装の流れ

1. **学習完了時に連続日数を更新**
   - `saveLessonProgress`関数内で連続日数をチェック・更新
   - 日付が変わったら連続日数をリセット

2. **レベル計算**
   - 連続日数からレベルを計算
   - レベルアップ時にトースト通知

3. **テーマアンロック**
   - レベルに応じてテーマをアンロック
   - アンロック時に通知

4. **テーマ選択UI**
   - ヘッダーに設定ボタンを追加
   - モーダルまたはドロップダウンでテーマ選択
   - 選択したテーマを`body`タグのクラスに適用

## 📝 実装ファイル

1. **app.js**: 連続日数・レベル管理、テーマ切り替えロジック
2. **styles.css**: 各テーマのCSS定義
3. **index.html**: テーマ選択UI（設定ボタン、モーダル）

## ⚡ 実装負荷

- **実装時間**: 3-5時間
- **難易度**: 中
- **主な作業**:
  - 連続日数管理ロジック（1時間）
  - レベル計算・アンロック判定（1時間）
  - 背景テーマCSS作成（1時間）
  - テーマ選択UI作成（1-2時間）

