#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
基礎知識項目を具体的な問題項目として整理
"""

SPECIFIC_QUESTIONS = {
    "物理": [
        {
            "問題項目": "電流計の針",
            "正答率": 17.2,
            "思考力": "B1",
            "関連レッスン": "physics_current_voltage_circuit (電流と電圧・回路)",
            "推奨追加レッスン": "physics_ammeter_reading (電流計の読み取り)",
            "具体的な問題例": [
                {
                    "問題": "電流計の針が右に振れるほど、電流の大きさはどうなりますか？",
                    "選択肢": [
                        "大きくなる",
                        "小さくなる",
                        "変わらない",
                        "針の動きと電流は関係ない"
                    ],
                    "正答": 0,
                    "解説ポイント": "電流計の針は、電流が大きいほど右に大きく振れる"
                },
                {
                    "問題": "電流計の針が0の位置にあるとき、電流の大きさはどうなりますか？",
                    "選択肢": [
                        "電流が流れていない",
                        "電流が流れているが測定できない",
                        "電流の向きが逆",
                        "電流計が故障している"
                    ],
                    "正答": 0,
                    "解説ポイント": "電流計の針が0の位置にあるときは、電流が流れていないことを示す"
                },
                {
                    "問題": "電流計の針の読み方として正しいのはどれですか？",
                    "選択肢": [
                        "針の先端の位置を読む",
                        "針の中央の位置を読む",
                        "針の根元の位置を読む",
                        "針の動きを見るだけでよい"
                    ],
                    "正答": 0,
                    "解説ポイント": "電流計の値は、針の先端が指している目盛りを読む"
                }
            ]
        },
        {
            "問題項目": "加熱中の水が動く理由",
            "正答率": 19.4,
            "思考力": "A2",
            "関連レッスン": "physics_heat_properties (熱の性質)",
            "推奨追加レッスン": "physics_convection_detail (対流の詳細)",
            "具体的な問題例": [
                {
                    "問題": "水を加熱すると、水が動く理由として正しいのはどれですか？",
                    "選択肢": [
                        "あたためられた水が上に移動し、冷たい水が下に移動する",
                        "あたためられた水が下に移動し、冷たい水が上に移動する",
                        "水は動かず、温度だけが上がる",
                        "水の重さが変わるため"
                    ],
                    "正答": 0,
                    "解説ポイント": "あたためられた水は体積が大きくなり軽くなるため上に移動し、冷たい水が下に移動する。これを対流という"
                },
                {
                    "問題": "水を加熱したときの水の動きを何といいますか？",
                    "選択肢": [
                        "対流",
                        "伝導",
                        "放射",
                        "拡散"
                    ],
                    "正答": 0,
                    "解説ポイント": "液体や気体を加熱したときに起こる、あたためられた部分が上に移動し、冷たい部分が下に移動する現象を対流という"
                },
                {
                    "問題": "対流が起こる理由として正しいのはどれですか？",
                    "選択肢": [
                        "あたためられた水は体積が大きくなり、重さが同じでも軽くなるため",
                        "あたためられた水は重さが重くなるため",
                        "あたためられた水は体積が小さくなるため",
                        "水の色が変わるため"
                    ],
                    "正答": 0,
                    "解説ポイント": "あたためられた水は体積が大きくなるが、重さは変わらないため、同じ体積あたりの重さが軽くなり、上に移動する"
                }
            ]
        }
    ],
    "化学": [
        {
            "問題項目": "アルカリ性の水溶液",
            "正答率": 27.9,
            "思考力": "A2",
            "関連レッスン": "chemistry_solution_integrated (水溶液)",
            "推奨追加レッスン": "chemistry_alkaline_solution_detail (アルカリ性水溶液の詳細)",
            "具体的な問題例": [
                {
                    "問題": "アルカリ性の水溶液の性質として正しいのはどれですか？",
                    "選択肢": [
                        "赤色リトマス紙を青色に変える",
                        "青色リトマス紙を赤色に変える",
                        "リトマス紙の色を変えない",
                        "リトマス紙を溶かす"
                    ],
                    "正答": 0,
                    "解説ポイント": "アルカリ性の水溶液は、赤色リトマス紙を青色に変える性質がある"
                },
                {
                    "問題": "アルカリ性の水溶液の例として正しいのはどれですか？",
                    "選択肢": [
                        "アンモニア水、石灰水、水酸化ナトリウム水溶液",
                        "塩酸、酢、レモン汁",
                        "食塩水、砂糖水",
                        "アルコール、ガソリン"
                    ],
                    "正答": 0,
                    "解説ポイント": "アンモニア水、石灰水、水酸化ナトリウム水溶液はアルカリ性の水溶液である"
                },
                {
                    "問題": "アルカリ性の水溶液にBTB液を加えると、何色になりますか？",
                    "選択肢": [
                        "青色",
                        "黄色",
                        "緑色",
                        "赤色"
                    ],
                    "正答": 0,
                    "解説ポイント": "アルカリ性の水溶液にBTB液を加えると青色になる。中性は緑色、酸性は黄色になる"
                }
            ]
        },
        {
            "問題項目": "水溶液の性質・識別",
            "正答率": 28.1,
            "思考力": "A2",
            "関連レッスン": "chemistry_solution_integrated (水溶液)",
            "推奨追加レッスン": "chemistry_solution_identification (水溶液の識別実験)",
            "具体的な問題例": [
                {
                    "問題": "複数の水溶液を識別するために使う実験方法として正しいのはどれですか？",
                    "選択肢": [
                        "リトマス紙、におい、蒸発後の残り、BTB液など",
                        "温度だけを測る",
                        "色だけを見る",
                        "重さだけを測る"
                    ],
                    "正答": 0,
                    "解説ポイント": "水溶液を識別するには、リトマス紙による液性の確認、においの確認、蒸発後の残りの確認、BTB液による確認など、複数の方法を組み合わせる"
                },
                {
                    "問題": "水溶液の識別で、蒸発皿に入れて加熱する理由は何ですか？",
                    "選択肢": [
                        "水を蒸発させて、溶けていた物質を確認するため",
                        "水溶液の温度を上げるため",
                        "水溶液の色を変えるため",
                        "水溶液のにおいを強くするため"
                    ],
                    "正答": 0,
                    "解説ポイント": "水溶液を加熱して水を蒸発させると、溶けていた物質が残る。この残りを見ることで、水溶液の種類を識別できる"
                },
                {
                    "問題": "アンモニア水と食塩水を見分ける方法として最も適切なのはどれですか？",
                    "選択肢": [
                        "においをかぐ（アンモニア水は特有のにおいがある）",
                        "色を見る",
                        "温度を測る",
                        "重さを測る"
                    ],
                    "正答": 0,
                    "解説ポイント": "アンモニア水は特有の刺激臭があり、食塩水はにおいがない。ただし、においをかぐときは手であおいでかぐ"
                }
            ]
        }
    ],
    "生物": [
        {
            "問題項目": "変温動物",
            "正答率": 7.3,
            "思考力": "A2",
            "関連レッスン": "biology_animal_classification (動物の分類)",
            "推奨追加レッスン": "biology_animal_body_temperature (変温動物と恒温動物)",
            "具体的な問題例": [
                {
                    "問題": "変温動物とはどのような動物ですか？",
                    "選択肢": [
                        "気温によって体温が変わる動物",
                        "体温がほぼ一定の動物",
                        "体温が常に高い動物",
                        "体温がない動物"
                    ],
                    "正答": 0,
                    "解説ポイント": "変温動物は、気温によって体温が変わる動物。魚類、両生類、は虫類などが該当する"
                },
                {
                    "問題": "変温動物の例として正しいのはどれですか？",
                    "選択肢": [
                        "カエル、トカゲ、メダカ",
                        "イヌ、ネコ、ウマ",
                        "ニワトリ、ペンギン",
                        "クジラ、イルカ"
                    ],
                    "正答": 0,
                    "解説ポイント": "変温動物には、カエル（両生類）、トカゲ（は虫類）、メダカ（魚類）などが含まれる"
                },
                {
                    "問題": "恒温動物とはどのような動物ですか？",
                    "選択肢": [
                        "体温がほぼ一定に保たれる動物",
                        "気温によって体温が変わる動物",
                        "体温が常に低い動物",
                        "体温がない動物"
                    ],
                    "正答": 0,
                    "解説ポイント": "恒温動物は、体温がほぼ一定に保たれる動物。鳥類とほ乳類が該当する"
                }
            ]
        },
        {
            "問題項目": "外骨格",
            "正答率": 19.1,
            "思考力": "A1",
            "関連レッスン": "biology_bones_muscles_senses (骨と筋肉と感覚)",
            "推奨追加レッスン": "biology_skeleton_types (内骨格と外骨格)",
            "具体的な問題例": [
                {
                    "問題": "外骨格とはどのような体のつくりですか？",
                    "選択肢": [
                        "体の表面がかたいからでおおわれ、その内側に筋肉があるつくり",
                        "体の内部に骨があり、その外側に筋肉があるつくり",
                        "骨がないつくり",
                        "筋肉だけのつくり"
                    ],
                    "正答": 0,
                    "解説ポイント": "外骨格は、体の表面がかたいからでおおわれ、その内側に筋肉があるつくり。こん虫、クモ、エビ、カニなどが該当する"
                },
                {
                    "問題": "外骨格を持つ動物の例として正しいのはどれですか？",
                    "選択肢": [
                        "こん虫、クモ、エビ、カニ",
                        "ヒト、イヌ、ネコ",
                        "メダカ、フナ",
                        "カエル、イモリ"
                    ],
                    "正答": 0,
                    "解説ポイント": "外骨格を持つ動物には、こん虫、クモ、エビ、カニなどの節足動物が含まれる"
                },
                {
                    "問題": "内骨格とはどのような体のつくりですか？",
                    "選択肢": [
                        "体の内部に骨があり、その外側に筋肉があるつくり",
                        "体の表面がかたいからでおおわれたつくり",
                        "骨がないつくり",
                        "筋肉だけのつくり"
                    ],
                    "正答": 0,
                    "解説ポイント": "内骨格は、体の内部に骨があり、その外側に筋肉があるつくり。ヒト、イヌ、メダカ、カエルなどのせきつい動物が該当する"
                }
            ]
        },
        {
            "問題項目": "陰性植物の例",
            "正答率": 25.8,
            "思考力": "B1",
            "関連レッスン": "biology_plants_growth_light (植物の成長)",
            "推奨追加レッスン": "biology_plant_light_requirement (陽性植物と陰性植物)",
            "具体的な問題例": [
                {
                    "問題": "陰性植物とはどのような植物ですか？",
                    "選択肢": [
                        "光が弱いところでも生育できる植物",
                        "光が強いところでないと生育できない植物",
                        "光がなくても生育できる植物",
                        "光を必要としない植物"
                    ],
                    "正答": 0,
                    "解説ポイント": "陰性植物は、光が弱いところでも生育できる植物。シイ、カシ、シダなどが該当する"
                },
                {
                    "問題": "陰性植物の例として正しいのはどれですか？",
                    "選択肢": [
                        "シイ、カシ、シダ",
                        "ススキ、アカマツ",
                        "ヒマワリ、トウモロコシ",
                        "イネ、コムギ"
                    ],
                    "正答": 0,
                    "解説ポイント": "陰性植物には、シイ、カシ、シダなど、森林の下など光が弱いところで生育する植物が含まれる"
                },
                {
                    "問題": "陽性植物とはどのような植物ですか？",
                    "選択肢": [
                        "光が強いところでないと生育できない植物",
                        "光が弱いところでも生育できる植物",
                        "光がなくても生育できる植物",
                        "光を必要としない植物"
                    ],
                    "正答": 0,
                    "解説ポイント": "陽性植物は、光が強いところでないと生育できない植物。ススキ、アカマツ、ヒマワリなどが該当する"
                }
            ]
        },
        {
            "問題項目": "二酸化炭素を多く含む血液",
            "正答率": 29.8,
            "思考力": "A2",
            "関連レッスン": "biology_heart_blood_circulation (心臓と血液循環)",
            "推奨追加レッスン": "biology_blood_component_change (血液成分の変化)",
            "具体的な問題例": [
                {
                    "問題": "二酸化炭素を多く含む血液は、体のどの部分を通る血液ですか？",
                    "選択肢": [
                        "全身の組織から心臓に戻る血液（静脈血）",
                        "心臓から全身に送られる血液（動脈血）",
                        "肺から心臓に戻る血液",
                        "心臓から肺に送られる血液"
                    ],
                    "正答": 0,
                    "解説ポイント": "全身の組織で酸素を使い、二酸化炭素を受け取った血液は、静脈を通って心臓に戻る。この血液は二酸化炭素を多く含む"
                },
                {
                    "問題": "酸素を多く含む血液は、体のどの部分を通る血液ですか？",
                    "選択肢": [
                        "心臓から全身に送られる血液（動脈血）",
                        "全身の組織から心臓に戻る血液（静脈血）",
                        "心臓から肺に送られる血液",
                        "肺から心臓に戻る血液"
                    ],
                    "正答": 0,
                    "解説ポイント": "肺で酸素を受け取った血液は、動脈を通って心臓から全身に送られる。この血液は酸素を多く含む"
                },
                {
                    "問題": "血液循環によって、血液中の酸素と二酸化炭素の量はどのように変化しますか？",
                    "選択肢": [
                        "肺で酸素が増え二酸化炭素が減り、全身の組織で酸素が減り二酸化炭素が増える",
                        "常に一定",
                        "酸素だけが変化する",
                        "二酸化炭素だけが変化する"
                    ],
                    "正答": 0,
                    "解説ポイント": "肺では酸素を取り込み二酸化炭素を放出し、全身の組織では酸素を放出し二酸化炭素を受け取る"
                }
            ]
        },
        {
            "問題項目": "血液循環と成分変化",
            "正答率": 35.3,
            "思考力": "A1",
            "関連レッスン": "biology_heart_blood_circulation (心臓と血液循環)",
            "推奨追加レッスン": "biology_blood_component_change (血液成分の変化)",
            "具体的な問題例": [
                {
                    "問題": "血液が肺を通るとき、血液中の成分はどのように変化しますか？",
                    "選択肢": [
                        "酸素が増え、二酸化炭素が減る",
                        "酸素が減り、二酸化炭素が増える",
                        "変化しない",
                        "酸素も二酸化炭素も増える"
                    ],
                    "正答": 0,
                    "解説ポイント": "肺では、空気中の酸素を血液に取り込み、血液中の二酸化炭素を空気中に放出する"
                },
                {
                    "問題": "血液が全身の組織を通るとき、血液中の成分はどのように変化しますか？",
                    "選択肢": [
                        "酸素が減り、二酸化炭素が増える",
                        "酸素が増え、二酸化炭素が減る",
                        "変化しない",
                        "酸素も二酸化炭素も減る"
                    ],
                    "正答": 0,
                    "解説ポイント": "全身の組織では、血液から酸素を受け取り、二酸化炭素を血液に渡す"
                },
                {
                    "問題": "動脈血と静脈血の違いとして正しいのはどれですか？",
                    "選択肢": [
                        "動脈血は酸素を多く含み、静脈血は二酸化炭素を多く含む",
                        "動脈血は二酸化炭素を多く含み、静脈血は酸素を多く含む",
                        "動脈血と静脈血に違いはない",
                        "動脈血は赤く、静脈血は青い"
                    ],
                    "正答": 0,
                    "解説ポイント": "動脈血は酸素を多く含み鮮やかな赤色、静脈血は二酸化炭素を多く含み暗い赤色"
                }
            ]
        }
    ],
    "地学": [
        {
            "問題項目": "月の模様が変わらない理由",
            "正答率": 1.0,
            "思考力": "B1",
            "関連レッスン": "earth_moon_movement (月の動き)",
            "推奨追加レッスン": "earth_moon_rotation_revolution (月の自転と公転)",
            "具体的な問題例": [
                {
                    "問題": "地球から月を見たとき、月の表面の模様が常に同じに見える理由は何ですか？",
                    "選択肢": [
                        "月の自転周期と公転周期が等しく、自転と公転の向きも同じだから",
                        "月が自転していないから",
                        "月が公転していないから",
                        "月の模様が実際に変わらないから"
                    ],
                    "正答": 0,
                    "解説ポイント": "月の自転周期（約27.3日）と公転周期（約27.3日）が等しく、自転と公転の向きも同じ（反時計回り）であるため、常に同じ面を地球に向けている"
                },
                {
                    "問題": "月の自転周期と公転周期の関係として正しいのはどれですか？",
                    "選択肢": [
                        "ほぼ等しい（約27.3日）",
                        "自転周期の方が長い",
                        "公転周期の方が長い",
                        "関係がない"
                    ],
                    "正答": 0,
                    "解説ポイント": "月の自転周期と公転周期はほぼ等しく、約27.3日である"
                },
                {
                    "問題": "月が常に同じ面を地球に向けていることを何といいますか？",
                    "選択肢": [
                        "同期自転",
                        "公転",
                        "自転",
                        "満ち欠け"
                    ],
                    "正答": 0,
                    "解説ポイント": "月が常に同じ面を地球に向けていることを同期自転という"
                }
            ]
        },
        {
            "問題項目": "日の出の方角・季節",
            "正答率": 12.0,
            "思考力": "B1",
            "関連レッスン": "earth_sun_movement (太陽の動き)",
            "推奨追加レッスン": "earth_sun_seasonal_movement (季節による太陽の動き)",
            "具体的な問題例": [
                {
                    "問題": "夏至の日の日の出の方角として正しいのはどれですか？",
                    "選択肢": [
                        "東よりやや北寄り",
                        "東よりやや南寄り",
                        "真東",
                        "北"
                    ],
                    "正答": 0,
                    "解説ポイント": "夏至の日は、日の出が東よりやや北寄り、日の入りが西よりやや北寄りになる"
                },
                {
                    "問題": "冬至の日の日の出の方角として正しいのはどれですか？",
                    "選択肢": [
                        "東よりやや南寄り",
                        "東よりやや北寄り",
                        "真東",
                        "南"
                    ],
                    "正答": 0,
                    "解説ポイント": "冬至の日は、日の出が東よりやや南寄り、日の入りが西よりやや南寄りになる"
                },
                {
                    "問題": "春分・秋分の日の日の出の方角として正しいのはどれですか？",
                    "選択肢": [
                        "真東",
                        "東よりやや北寄り",
                        "東よりやや南寄り",
                        "北"
                    ],
                    "正答": 0,
                    "解説ポイント": "春分・秋分の日は、日の出が真東、日の入りが真西になる"
                }
            ]
        },
        {
            "問題項目": "翌日の月の位置",
            "正答率": 14.0,
            "思考力": "A1",
            "関連レッスン": "earth_moon_movement (月の動き)",
            "推奨追加レッスン": "earth_moon_daily_movement (月の日々の動き)",
            "具体的な問題例": [
                {
                    "問題": "毎日同じ時刻に月を観察すると、月の位置はどのように変化しますか？",
                    "選択肢": [
                        "1日に約12度ずつ西から東へ移動する",
                        "1日に約12度ずつ東から西へ移動する",
                        "位置は変わらない",
                        "1日に約15度ずつ移動する"
                    ],
                    "正答": 0,
                    "解説ポイント": "月は地球の周りを公転しているため、毎日同じ時刻に観察すると、1日に約12度ずつ西から東へ移動する"
                },
                {
                    "問題": "月の南中時刻は、1日にどのくらいずれますか？",
                    "選択肢": [
                        "約48分ずつおそくなる",
                        "約48分ずつ早くなる",
                        "変わらない",
                        "約1時間ずつおそくなる"
                    ],
                    "正答": 0,
                    "解説ポイント": "月の南中時刻は、1日に約48分ずつおそくなる。これは月が地球の周りを公転しているため"
                },
                {
                    "問題": "月が1日に移動する角度（約12度）は、月の何に関係していますか？",
                    "選択肢": [
                        "月の公転",
                        "月の自転",
                        "地球の自転",
                        "太陽の動き"
                    ],
                    "正答": 0,
                    "解説ポイント": "月が1日に約12度移動するのは、月が地球の周りを公転しているため"
                }
            ]
        },
        {
            "問題項目": "地軸の傾きと太陽の動き",
            "正答率": 16.6,
            "思考力": "B1",
            "関連レッスン": "earth_sun_movement (太陽の動き)",
            "推奨追加レッスン": "earth_earth_axis_sun_movement (地軸の傾きと太陽高度)",
            "具体的な問題例": [
                {
                    "問題": "地軸の傾きは約何度ですか？",
                    "選択肢": [
                        "約23.4度",
                        "約30度",
                        "約45度",
                        "約90度"
                    ],
                    "正答": 0,
                    "解説ポイント": "地軸は公転面に垂直な線に対して約23.4度かたむいている"
                },
                {
                    "問題": "地軸がかたむいていることで起こる現象として正しいのはどれですか？",
                    "選択肢": [
                        "季節の変化、太陽高度の変化、昼の長さの変化",
                        "月の満ち欠け",
                        "地震",
                        "台風"
                    ],
                    "正答": 0,
                    "解説ポイント": "地軸がかたむいていることで、季節の変化、太陽高度の変化、昼の長さの変化が起こる"
                },
                {
                    "問題": "夏至の日の太陽の南中高度が最も高くなる理由として正しいのはどれですか？",
                    "選択肢": [
                        "地軸が太陽の方向に最もかたむいているから",
                        "地球が太陽に最も近いから",
                        "太陽が大きいから",
                        "昼の長さが長いから"
                    ],
                    "正答": 0,
                    "解説ポイント": "夏至の日は、地軸が太陽の方向に最もかたむいているため、北半球では太陽の南中高度が最も高くなる"
                }
            ]
        },
        {
            "問題項目": "月の満ち欠け周期",
            "正答率": 18.1,
            "思考力": "B1",
            "関連レッスン": "earth_moon_movement (月の動き)",
            "推奨追加レッスン": "earth_moon_phase_period (月の満ち欠けの周期)",
            "具体的な問題例": [
                {
                    "問題": "月の満ち欠けの周期は約何日ですか？",
                    "選択肢": [
                        "約29.5日",
                        "約27.3日",
                        "約30日",
                        "約28日"
                    ],
                    "正答": 0,
                    "解説ポイント": "月の満ち欠けの周期は約29.5日である"
                },
                {
                    "問題": "月の満ち欠けの周期が公転周期（約27.3日）より長い理由として正しいのはどれですか？",
                    "選択肢": [
                        "地球も太陽の周りを公転しているため",
                        "月が自転しているため",
                        "月の大きさが変わるため",
                        "観測する場所が変わるため"
                    ],
                    "正答": 0,
                    "解説ポイント": "月の満ち欠けの周期が公転周期より約2日長いのは、月が公転する間に地球も太陽の周りを公転しているため"
                },
                {
                    "問題": "月の公転周期は約何日ですか？",
                    "選択肢": [
                        "約27.3日",
                        "約29.5日",
                        "約30日",
                        "約28日"
                    ],
                    "正答": 0,
                    "解説ポイント": "月の公転周期は約27.3日である"
                }
            ]
        },
        {
            "問題項目": "地層を構成する岩石",
            "正答率": 23.1,
            "思考力": "A2",
            "関連レッスン": "earth_strata_formation (地層の形成)",
            "推奨追加レッスン": "earth_strata_rock_types (地層と岩石の種類)",
            "具体的な問題例": [
                {
                    "問題": "れきが固まってできる岩石を何といいますか？",
                    "選択肢": [
                        "れき岩",
                        "砂岩",
                        "泥岩",
                        "石灰岩"
                    ],
                    "正答": 0,
                    "解説ポイント": "れきが固まってできる岩石をれき岩という"
                },
                {
                    "問題": "砂が固まってできる岩石を何といいますか？",
                    "選択肢": [
                        "砂岩",
                        "れき岩",
                        "泥岩",
                        "石灰岩"
                    ],
                    "正答": 0,
                    "解説ポイント": "砂が固まってできる岩石を砂岩という"
                },
                {
                    "問題": "どろが固まってできる岩石を何といいますか？",
                    "選択肢": [
                        "泥岩",
                        "れき岩",
                        "砂岩",
                        "石灰岩"
                    ],
                    "正答": 0,
                    "解説ポイント": "どろが固まってできる岩石を泥岩という"
                }
            ]
        },
        {
            "問題項目": "地層の堆積順",
            "正答率": 23.1,
            "思考力": "A2",
            "関連レッスン": "earth_strata_formation (地層の形成)",
            "推奨追加レッスン": "earth_strata_deposition_order (地層の堆積順序)",
            "具体的な問題例": [
                {
                    "問題": "地層の新旧を判断する方法として正しいのはどれですか？",
                    "選択肢": [
                        "下にある層ほど古く、上にある層ほど新しい",
                        "上にある層ほど古く、下にある層ほど新しい",
                        "左右で判断する",
                        "色で判断する"
                    ],
                    "正答": 0,
                    "解説ポイント": "地層は下から上に積み重なっていくため、下にある層ほど古く、上にある層ほど新しい"
                },
                {
                    "問題": "地層のつながりを調べる手がかりとなる層を何といいますか？",
                    "選択肢": [
                        "かぎ層",
                        "基準層",
                        "標準層",
                        "特徴層"
                    ],
                    "正答": 0,
                    "解説ポイント": "火山灰の層など、限られた時期に広い範囲に降り積もった層をかぎ層といい、地層のつながりを調べる手がかりになる"
                },
                {
                    "問題": "かぎ層として使われるものの例として正しいのはどれですか？",
                    "選択肢": [
                        "火山灰の層",
                        "れきの層",
                        "砂の層",
                        "どろの層"
                    ],
                    "正答": 0,
                    "解説ポイント": "火山灰の層は、限られた時期に広い範囲に降り積もるため、かぎ層として使われる"
                }
            ]
        }
    ]
}

def generate_specific_question_report():
    """具体的な問題項目レポートを生成"""
    report = []
    report.append("=" * 120)
    report.append("一問一答形式に適した基礎的な未カバー項目 - 具体的な問題項目リスト")
    report.append("=" * 120)
    report.append("")
    report.append("【凡例】")
    report.append("  各項目について、具体的な問題例を3問ずつ提示")
    report.append("  選択肢、正答、解説ポイントを含む")
    report.append("")
    
    total_questions = 0
    
    for field in ["物理", "化学", "生物", "地学"]:
        items = SPECIFIC_QUESTIONS.get(field, [])
        field_question_count = sum(len(item["具体的な問題例"]) for item in items)
        total_questions += field_question_count
        
        report.append(f"\n{'=' * 120}")
        report.append(f"【{field}分野】 - {len(items)}項目、{field_question_count}問")
        report.append(f"{'=' * 120}")
        report.append("")
        
        for i, item in enumerate(items, 1):
            report.append(f"■ 項目 {i}: {item['問題項目']}")
            report.append(f"  正答率: {item['正答率']}% | 思考力: {item['思考力']}")
            report.append(f"  現在の関連レッスン: {item['関連レッスン']}")
            report.append(f"  推奨追加レッスン: {item['推奨追加レッスン']}")
            report.append("")
            report.append("  具体的な問題例:")
            
            for j, q in enumerate(item["具体的な問題例"], 1):
                report.append(f"    【問題 {j}】")
                report.append(f"      {q['問題']}")
                report.append(f"      選択肢:")
                for k, choice in enumerate(q['選択肢']):
                    marker = "[正答]" if k == q['正答'] else "      "
                    report.append(f"        {marker} {k+1}. {choice}")
                report.append(f"      正答: {q['正答']+1}")
                report.append(f"      解説ポイント: {q['解説ポイント']}")
                report.append("")
            
            report.append("")
    
    # 全体サマリー
    report.append(f"\n{'=' * 120}")
    report.append("【全体サマリー】")
    report.append(f"{'=' * 120}")
    report.append(f"総項目数: {sum(len(SPECIFIC_QUESTIONS.get(f, [])) for f in ['物理', '化学', '生物', '地学'])}項目")
    report.append(f"総問題数: {total_questions}問")
    report.append("")
    
    for field in ["物理", "化学", "生物", "地学"]:
        items = SPECIFIC_QUESTIONS.get(field, [])
        question_count = sum(len(item["具体的な問題例"]) for item in items)
        report.append(f"{field}: {len(items)}項目、{question_count}問")
    
    # 推奨追加レッスン一覧
    report.append(f"\n{'=' * 120}")
    report.append("【推奨追加レッスン一覧】")
    report.append(f"{'=' * 120}")
    
    for field in ["物理", "化学", "生物", "地学"]:
        items = SPECIFIC_QUESTIONS.get(field, [])
        if items:
            report.append(f"\n■ {field}分野")
            for item in items:
                report.append(f"  - {item['推奨追加レッスン']}")
    
    return "\n".join(report)

def main():
    print("具体的な問題項目レポートを生成しています...")
    report = generate_specific_question_report()
    
    # 保存
    with open("specific_question_items.txt", "w", encoding="utf-8") as f:
        f.write(report)
    
    print("\n" + report)
    print("\n具体的な問題項目レポートを 'specific_question_items.txt' に保存しました。")

if __name__ == "__main__":
    main()

