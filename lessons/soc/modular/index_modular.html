<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>中学受験社会｜地理学習</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- 戻るボタン（画面左上に固定） -->
  <button id="backBtn" onclick="goBack()" style="position: fixed; top: 20px; left: 20px; z-index: 1000; padding: 12px 18px; background: linear-gradient(135deg, #ea580c, #f97316); color: white; border: none; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(234, 88, 12, 0.3); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px) scale(1.05)'; this.style.boxShadow='0 6px 16px rgba(234, 88, 12, 0.4)'" onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 4px 12px rgba(234, 88, 12, 0.3)'">← 戻る</button>

  <div class="question-box">
    <div id="modeLabel"></div>
    <div id="eraLabel" style="margin-bottom: 0.5rem; font-weight:700;"></div>
    <h2 id="question"></h2>
    <div class="source" id="source"></div>
    <div class="choices" id="choices"></div>
    <div class="explanation" id="explanation"></div>
    <div class="navigation-buttons">
      <button id="prevBtn" style="display: none;">前の問題へ</button>
      <button id="nextBtn">次の問題へ</button>
    </div>
    <div id="historyDisplay"></div>
  </div>

  <script src="loader.js"></script>
  <script src="script.js"></script>
  <script>
    const eraMap = {
      // 地理分野
      'geo_land_topo': '地形・気候・地図',
      'geo_agriculture': '農業・林業・水産業',
      'geo_prefectures': '都道府県・都市',
      'geo_industry': '工業・エネルギー',
      'geo_commerce': '商業・貿易・交通',
      'geo_environment': '環境問題',
      'geo_information': '情報産業',
      'geo_maps': '地図・地形図記号',
      'geo_hokkaido': '北海道地方',
      'geo_tohoku': '東北地方',
      'geo_kanto': '関東地方（詳細）',
      'geo_kanto_basic': '関東地方（基本）',
      'geo_chubu': '中部地方',
      'geo_kinki': '近畿地方',
      'geo_chugoku_shikoku': '中国・四国地方',
      'geo_kyushu': '九州地方',
      'geo_world': '世界地理',
      
      // 歴史分野
      'hist_paleolithic': '旧石器・縄文・弥生時代',
      'hist_kofun': '古墳・飛鳥時代',
      'hist_nara': '奈良時代',
      'hist_heian': '平安時代',
      'hist_kamakura': '鎌倉時代',
      'hist_muromachi': '室町時代',
      'hist_azuchi': '安土桃山時代',
      'hist_edo': '江戸時代',
      'hist_meiji': '明治時代',
      'hist_taisho': '大正・昭和前期',
      'hist_postwar': '昭和後期',
      'hist_modern': '平成・令和時代',
      'hist_cross': '歴史総合問題',
      
      // 公民分野
      'civic_politics': '政治・国民生活',
      'civic_constitution': '憲法・三原則',
      'civic_government': '国会・内閣・裁判所',
      'civic_finance': '財政・地方自治',
      'civic_international': '国際関係',
      'civic_modern': '現代社会問題',
      
      // 既存の教材（後方互換性） - ダミーファイルは削除済み
    };
    const currentEra = new URLSearchParams(location.search).get("era") || "geo_land_topo";
    const currentMode = new URLSearchParams(location.search).get("mode") || "wakaru";
    
    document.getElementById("eraLabel").textContent = "単元：" + (eraMap[currentEra] || currentEra);
    
  </script>
</body>
</html>
